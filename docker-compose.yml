services:
  graphdb:
    image: ontotext/graphdb:11.2.0
    container_name: tft-graphdb
    expose:
      - "7200"
    volumes:
      - graphdb-home:/opt/graphdb/home
    restart: unless-stopped

  nginx:
    image: nginx:alpine
    container_name: tft-graphdb-proxy
    depends_on:
      - graphdb
    ports:
      - "7200:80"
    volumes:
      - ./infra/graphdb/nginx.conf:/etc/nginx/nginx.conf:ro
      - ./infra/graphdb/htpasswd:/etc/nginx/.htpasswd:ro
    restart: unless-stopped

volumes:
  graphdb-home:
